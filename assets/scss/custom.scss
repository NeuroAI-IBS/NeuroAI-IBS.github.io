// Consistent site-wide width (100rem)
$site-width: 95rem;

// Link colors
$link-highlight: rgb(182, 66, 38);
$link-base-light: #000;

.container {
  max-width: $site-width;
}

.top-banner {
  background-color: white;
  height: 4.5rem;
  display: flex;
  align-items: center;
}

.top-banner .container {
  max-width: $site-width;
}

.navigation {
  background-color: rgb(215, 215, 215);
  height: 6.4rem;
}

.colorscheme-dark .navigation,
.colorscheme-auto .navigation {
  background-color: rgb(215, 215, 215);
}

@media only screen and (min-width: 769px) {
  .navigation .navigation-title,
  .navigation .navigation-list .navigation-item a,
  .navigation .navigation-list .navigation-item span {
    line-height: 4.5rem;
  }
}

.banner-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  gap: 3rem;
}

.banner-logo {
  height: 3.5rem;
  width: auto;
}

.banner-logo-center {
  height: 4.5rem; // Larger size for the center logo
  margin-top: 0.75rem; // Slightly lower position relative to IBS logo
}

.avatar {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 0rem;
}

.avatar img {
  width: 60rem;
  border-radius: 0;
  margin-bottom: 2rem;

  @media only screen and (max-width: 768px) {
    width: 34rem;
  }
}

.content {
  line-height: 1.35;  // Default is usually 1.5-1.6

  // Reduce spacing between headers and body text
  h1, h2, h3, h4, h5, h6 {
    margin: 4rem 0 1.5rem 0;  // Theme default: 4rem 0 2.5rem 0
  }
}

.about-content {
  text-align: justify;
  max-width: 60rem;
  margin: 2rem auto;
}

// Hugo-Coder sets `.content { display: flex; }` (row). Wrap homepage into a single flex item.
.home-stack {
  width: 100%;
}

// Ensure hero section has proper spacing
section.container.centered {
  margin-bottom: 4rem;
}

// Two-column layout for home page
.home-two-column {
  margin-top: 4rem;
  margin-bottom: 4rem;
  clear: both; // Ensure it appears below floated/flexed content
  display: block; // Override any flex inheritance
  width: 100%;
  max-width: $site-width;
  font-size: 90%;

  h1, h2, h3, h4, h5, h6 {
    margin: 3rem 0 1rem 0 !important;
  }

  p, ul, ol, table {
    margin-top: 0.5rem;
  }
}

.home-columns {
  display: flex;
  gap: 4rem;
  align-items: flex-start;

  @media only screen and (max-width: 768px) {
    flex-direction: column;
    gap: 3rem;
  }
}

.home-column-left {
  flex: 1;
  min-width: 0; // Allows flex item to shrink below content size

  .about-content {
    max-width: none;
    margin: 0;
    text-align: left;
  }
}

.home-column-right {
  flex: 1;
  min-width: 0;

  .news-content {
    text-align: left;

    ul {
      list-style: none;
      padding-left: 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;

      th, td {
        padding: 0.3rem 0.5rem;
        vertical-align: top;
        border: none;
      }

      th:first-child, td:first-child {
        width: 4rem;
        white-space: nowrap;
        font-weight: bold;
      }

      thead {
        display: none; // Hide table header
      }
    }
  }
}

// Align the first heading/content block of both columns to the same top baseline
.home-column-left .about-content > :first-child,
.home-column-right .news-content > :first-child {
  margin-top: 0;
}

.person-card {
  display: flex;
  gap: 3rem;
  margin-bottom: 3rem;
  padding: 2rem;
  border-bottom: 1px solid #eee;

  @media only screen and (max-width: 768px) {
    flex-direction: column;
    gap: 1.5rem;
  }
}

.person-left {
  flex-shrink: 0;
  text-align: center;
  width: 18rem;
}

.person-photo {
  width: 15rem;
  height: 15rem;
  object-fit: cover;
  border-radius: 50%;
}

.person-name {
  margin: 1rem 0 0.5rem;
  font-size: 1.8rem;
}

.person-social {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  justify-content: center;
  gap: 1rem;

  li a {
    color: inherit;
    font-size: 1.6rem;
    opacity: 0.7;
    transition: opacity 0.2s, color 0.1s;

    &:hover {
      opacity: 1;
      color: $link-highlight;
    }
  }
}

.person-right {
  flex: 1;
  text-align: justify;

  p {
    margin: 0 0 1rem;
  }
}

.list .alumni-list ul {
  list-style: disc !important;
  padding-left: 2rem !important;
}

// Link highlight overrides (hover/click/visited)
// Base (site-wide) link interaction/visited states
a {
  // Default (unhovered) link color
  color: $link-base-light;
  // Reduce hover animation delay (theme default is 0.25s)
  transition: all 0.1s ease-in;

  // Only hover is highlighted (including visited links)
  &:hover,
  &:visited:hover {
    color: $link-highlight;
  }

  &:visited {
    color: $link-base-light;
  }

  &:focus,
  &:active {
    color: $link-base-light;
  }
}

// Theme-specific higher-specificity selectors that otherwise override the base rules
.navigation a,
.footer a,
.float-container a,
.person-social li a,
.content .post .post-meta .tags .tag a,
.taxonomy .taxonomy-element a,
h1 .heading-link,
h2 .heading-link,
h3 .heading-link,
h4 .heading-link,
h5 .heading-link,
h6 .heading-link,
.title-link,
.navigation a:visited,
.footer a:visited,
.float-container a:visited,
.person-social li a:visited,
.content .post .post-meta .tags .tag a:visited,
.taxonomy .taxonomy-element a:visited {
  color: $link-base-light;
}

// Keep highlight only on hover (not focus/active)
.navigation a:hover,
.content .list ul li .title:hover,
.centered .about ul li a:hover,
.float-container a:hover,
.person-social li a:hover,
a.external-link:hover {
  color: $link-highlight;
}

// Titles are always highlight color (including visited)
.navigation-title,
.title-link,
.navigation-title:visited,
.title-link:visited {
  color: $link-highlight;
}

// Section list page titles (e.g., People uses <h1 class="title">People</h1> with no link)
.content .list header .title {
  color: $link-highlight;
}

.content .list header .title a,
.content .list header .title a:visited {
  color: $link-highlight;
}

// Preserve theme behavior for floating button hover on small screens
@media only screen and (max-width: 768px) {
  .float-container a:hover,
  .float-container a:focus {
    color: inherit;
    opacity: 0.5;
  }
}

// Dark scheme (explicit)
body.colorscheme-dark {
  a {
    // In dark mode, avoid black-on-dark; also remove theme’s blue by inheriting text color.
    color: inherit;

    &:hover {
      color: $link-highlight;
    }

    &:visited,
    &:focus,
    &:active {
      color: inherit;
    }
  }

  // Navigation stays dark text on light background even in dark mode
  .navigation a,
  .navigation a:visited {
    color: $link-base-light;
  }

  .navigation a:hover {
    color: $link-highlight;
  }

  .footer a,
  .float-container a,
  .person-social li a,
  .content .post .post-meta .tags .tag a,
  .taxonomy .taxonomy-element a,
  h1 .heading-link,
  h2 .heading-link,
  h3 .heading-link,
  h4 .heading-link,
  h5 .heading-link,
  h6 .heading-link,
  .title-link,
  .footer a:visited,
  .float-container a:visited,
  .person-social li a:visited,
  .content .post .post-meta .tags .tag a:visited,
  .taxonomy .taxonomy-element a:visited {
    color: inherit;
  }

  .navigation-title,
  .navigation-title:visited {
    color: $link-highlight;
  }

  .title-link,
  .title-link:visited {
    color: $link-highlight;
  }

  .content .list header .title {
    color: $link-highlight;
  }

  .content .list header .title a,
  .content .list header .title a:visited {
    color: $link-highlight;
  }

  .navigation a:hover,
  .content .list ul li .title:hover,
  .centered .about ul li a:hover,
  .float-container a:hover,
  .person-social li a:hover,
  a.external-link:hover {
    color: $link-highlight;
  }
}

// Auto scheme (dark via media query)
@media (prefers-color-scheme: dark) {
  body.colorscheme-auto {
    a {
      // In dark mode, avoid black-on-dark; also remove theme’s blue by inheriting text color.
      color: inherit;

      &:hover {
        color: $link-highlight;
      }

      &:visited,
      &:focus,
      &:active {
        color: inherit;
      }
    }

    .navigation a,
    .footer a,
    .float-container a,
    .person-social li a,
    .content .post .post-meta .tags .tag a,
    .taxonomy .taxonomy-element a,
    h1 .heading-link,
    h2 .heading-link,
    h3 .heading-link,
    h4 .heading-link,
    h5 .heading-link,
    h6 .heading-link,
    .title-link,
    .navigation a:visited,
    .footer a:visited,
    .float-container a:visited,
    .person-social li a:visited,
    .content .post .post-meta .tags .tag a:visited,
    .taxonomy .taxonomy-element a:visited {
      color: inherit;
    }

    .navigation-title,
    .title-link,
    .navigation-title:visited,
    .title-link:visited {
      color: $link-highlight;
    }

    .content .list header .title {
      color: $link-highlight;
    }

    .content .list header .title a,
    .content .list header .title a:visited {
      color: $link-highlight;
    }

    .navigation a:hover,
    .content .list ul li .title:hover,
    .centered .about ul li a:hover,
    .float-container a:hover,
    .person-social li a:hover,
    a.external-link:hover {
      color: $link-highlight;
    }
  }
}

